## 什么是智能指针？智能指针有哪些？
智能指针是C++11引入的一个类模板，用来帮我们自动管理资源，通常情况下，它内部封装了一个指向动态内存的裸指针，在析构函数它会自动释放此前申请的动态内存，防止我们因为忘记释放或发生异常导致的内存泄漏。
常用的有`unique_ptr`, `shared_ptr`, `weak_ptr`，好像还有个`auto_ptr`，已经废弃了。

##  说说这几种智能指针
- `unique_ptr`是一种独占式的智能指针，某一时刻只能有一个智能指针拥有资源的所有权，它不可以被拷贝，可以通过移动来交出资源的所有权。
- `shared_ptr`是一种共享式的智能指针，它允许多个智能指针同时拥有资源的所有权，它内部会维护一个引用计数，当管理资源的智能指针+1时，内部的引用计数就会+1，在析构函数中会将引用计数-1，当引用计数为0时，就会释放资源。当返回`this`指针的`shared_ptr`和存在循环引用时，`shared_ptr`可能会出现一些问题，`weak_ptr`和`shared_ptr`搭配使用的话就可以解决这些问题。
- `weak_ptr`其实并不管理任何资源的生命周期，它也不会使得对应资源的引用计数增加，它一般和`shared_ptr`一起搭配使用，作为一个旁观者观测`shared_ptr`中管理的资源是否存在。比如循环引用中，只要将一个类中的`shared_ptr`改为`weak_ptr`就可以避免循环引用导致的死锁，因为当一个`weak_ptr`指向一个资源时，对应`shared_ptr`的引用计数不会+1。