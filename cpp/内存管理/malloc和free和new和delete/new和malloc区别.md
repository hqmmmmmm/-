1.new是c++中的运算符，malloc是C语言中的函数。

2.使用new分配内存时，不用指出要分配内存的大小，编译器会自己算出来；而malloc需要在参数中指定大小，不过一般也是通过sizeof来确定。

3.new分配内存失败时会直接抛出异常，malloc分配内存失败时会返回空指针。

4.new返回的指针是对应对象类型的指针，malloc返回的指针是void*指针。

5.对于非内置数据类型，new在分配完内存后，还会自动调用对象的构造函数。

---

如果使用free释放new分配的对象，可能会因为没有调用析构函数而导致程序异常。
使用delete释放malloc分配的对象，没什么问题，但是不推荐。

---

定位new表达式 placement-new

定位new表达式在实际中一般是配合内存池使用。因为内存池分配出的内存没有初始化，所以如果是自定义类型的对象，需要使用new的定义表达式进行显示调构造函数进行初始化.