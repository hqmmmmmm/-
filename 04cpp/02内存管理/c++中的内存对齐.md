### 对齐系数
每个特定平台上的编译器都有自己的默认“对齐系数”（也叫对齐模数）。可以通过预编译命令#pragma pack(n)，n = 1,2,4,8,16来改变这一系数。32位机一般为4，64位机一般为8。

### 内存对齐原则
- 结构体第一个成员的偏移量（offset）为0，以后每个成员相对于结构体首地址的 offset 都是该成员大小与对齐系数中较小那个的整数倍，如有需要编译器会在成员之间加上填充字节。
- 结构体的总大小为`min(对齐系数，结构体最大成员大小)`的整数倍，如有需要编译器会在最末一个成员之后加上填充字节。

### 为什么需要内存对齐？
- 性能原因：因为cpu在读取内存时是对齐的，比如一次读取4个字节，如果某个int变量没有对齐的话，可能访问这个int变量需要进行两次访存。
- 总体来说是一种以空间换时间的策略。

### C++11 alignof & alignas
TODO



### 参考

[C/C++内存对齐详解](https://zhuanlan.zhihu.com/p/30007037)
[【C/C++】结构体内存对齐 ----- 面试必考](https://blog.csdn.net/weixin_45031801/article/details/136490540)