### 如何只在堆上分配对象内存？
将析构函数设置为私有或保护，因为当对象建立在栈上时，是由编译器帮我们管理对象内存的分配和释放，当编译器在为类对象分配栈空间时，会检查析构函数的可访问性，如果析构函数是私有的，编译器就不会在栈空间上为对象分配内存了。此时需要设置一个public函数delete this来调用析构函数释放内存。

### 如何只在栈上分配对象内存？
通常调用new运算符，对象就会在堆上分配内存，虽然我们无法改变new运算符的行为，但是new运算符底层都会调用operator new函数，我们只要将operator new()设置为private就可以禁止对象被new在堆上。


[C++如何只在栈（堆）上分配对象内存](https://zhuanlan.zhihu.com/p/596313158)