为什么需要应用层缓冲区？

非阻塞网络编程的核心思想就是避免阻塞在read/write系统调用上，这样可以最大限度地复用线程，让一个线程为多个连接服务。此时必须要使用应用层缓冲区，如下：  

output buffer：当我们执行write操作后，可能操作系统一次性没有接收完，如果有应用层缓冲区，我们可以直接将剩余数据放入output buffer中然后注册POLLOUT事件，socket可写时再将数据写入。  
可以提高传输效率，不需要多次发送。

input buffer：当我们执行read操作后，读到的数据不一定是完整的，可以先将数据读到input buffer。




如果读到的数据是不完整的进行解析的话会发生什么？
